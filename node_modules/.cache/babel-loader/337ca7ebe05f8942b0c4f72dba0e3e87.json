{"ast":null,"code":"var _jsxFileName = \"/home/ahmadg/Desktop/chat-challenge/src/App.js\";\nimport React, { Component } from \"react\";\nimport io from \"socket.io-client\";\nimport \"emoji-mart/css/emoji-mart.css\";\nimport { Picker } from \"emoji-mart\";\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      isConnected: false,\n      id: null,\n      userList: [],\n      message_from_server: \"\",\n      inputResult: \"\",\n      chat: [],\n      showEmojis: false\n    };\n    this.socket = null;\n\n    this.showEmojis = e => {\n      this.setState({\n        showEmojis: true\n      }, () => document.addEventListener(\"click\", this.closeMenu));\n    };\n\n    this.closeMenu = e => {\n      console.log(this.emojiPicker);\n\n      if (this.emojiPicker !== null && !this.emojiPicker.contains(e.target)) {\n        this.setState({\n          showEmojis: false\n        }, () => document.removeEventListener(\"click\", this.closeMenu));\n      }\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        inputResult: e.target.value\n      });\n    };\n\n    this.addEmoji = e => {\n      let sym = e.unified.split(\"-\");\n      let codesArray = [];\n      sym.forEach(el => codesArray.push(\"0x\" + el));\n      let emoji = String.fromCodePoint(...codesArray);\n      this.setState({\n        inputResult: this.state.inputResult + emoji\n      });\n    };\n  }\n\n  componentWillMount() {\n    this.socket = io(\"https://codi-server.herokuapp.com\");\n    this.socket.on(\"connect\", () => {\n      this.setState({\n        isConnected: true\n      });\n    });\n    this.socket.on(\"disconnect\", () => {\n      this.setState({\n        isConnected: false\n      });\n    });\n    this.socket.on(\"youare\", answer => {\n      this.setState({\n        id: answer.id\n      });\n    });\n    this.socket.on(\"peeps\", data => {\n      this.setState({\n        userList: data\n      });\n    });\n    this.socket.on(\"new connection\", NewUser => {\n      console.log(\"new connection\", NewUser);\n      const users = [...this.state.userList, NewUser];\n      this.setState({\n        userList: users\n      });\n    });\n    this.socket.on(\"new disconnection\", DisconnectUser => {\n      console.log(\"new disconnection\", DisconnectUser);\n      const filteredUsers = this.state.userList.filter(function (item) {\n        return item !== DisconnectUser;\n      });\n      this.setState({\n        userList: filteredUsers\n      });\n    });\n    /** this will be useful way, way later **/\n\n    this.socket.on(\"room\", old_messages => {\n      this.setState({\n        chat: old_messages\n      });\n      console.log(old_messages);\n    });\n  }\n\n  componentWillUnmount() {\n    this.socket.close();\n    this.socket = null;\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }\n    }, \"status: \", this.state.isConnected ? \"connected\" : \"disconnected\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }\n    }, \"id: \", this.state.id), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"space-between\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        marginLeft: \"70px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        border: \"solid\",\n        backgroundColor: \"#54798a\",\n        borderRadius: \"20px\",\n        paddingRight: \"25px\",\n        color: \"white\",\n        marginRight: \"10px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      style: {\n        width: \"60%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }\n    }, this.state.chat.map(user => /*#__PURE__*/React.createElement(\"tbody\", {\n      className: \" table-active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        padding: \"0px 15px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 23\n      }\n    }, user.name), /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        border: \"solid 0px\",\n        backgroundColor: \"green\",\n        borderRadius: \"10px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 23\n      }\n    }, user.text))))))), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        border: \"solid\",\n        backgroundColor: \"cyan\",\n        borderRadius: \"20px\",\n        display: \"block\",\n        height: \"400px\",\n        overflowY: \"scroll\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 11\n      }\n    }, \"userList:\", /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 13\n      }\n    }, this.state.userList.map(user => /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 17\n      }\n    }, user))), \"userNumber:\", this.state.userList.length)), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }\n    }, \"message to server :\", /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.inputResult,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => {\n        this.socket.emit(\"message\", {\n          id: this.state.id,\n          name: \"test\",\n          text: this.state.inputResult\n        });\n        this.setState({\n          inputResult: \"\"\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 11\n      }\n    }, \"send\")), this.state.showEmojis ? /*#__PURE__*/React.createElement(\"span\", {\n      ref: el => this.emojiPicker = el,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Picker, {\n      onSelect: this.addEmoji,\n      emojiTooltip: true,\n      title: \"weChat\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 13\n      }\n    })) : /*#__PURE__*/React.createElement(\"p\", {\n      onClick: this.showEmojis,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 11\n      }\n    }, String.fromCodePoint(0x1f60a)));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/ahmadg/Desktop/chat-challenge/src/App.js"],"names":["React","Component","io","Picker","App","state","isConnected","id","userList","message_from_server","inputResult","chat","showEmojis","socket","e","setState","document","addEventListener","closeMenu","console","log","emojiPicker","contains","target","removeEventListener","handleChange","value","addEmoji","sym","unified","split","codesArray","forEach","el","push","emoji","String","fromCodePoint","componentWillMount","on","answer","data","NewUser","users","DisconnectUser","filteredUsers","filter","item","old_messages","componentWillUnmount","close","handleSubmit","event","preventDefault","render","display","justifyContent","marginLeft","border","backgroundColor","borderRadius","paddingRight","color","marginRight","width","map","user","padding","name","text","height","overflowY","length","emit"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,EAAP,MAAe,kBAAf;AACA,OAAO,+BAAP;AACA,SAASC,MAAT,QAAuB,YAAvB;;AAEA,MAAMC,GAAN,SAAkBH,SAAlB,CAA4B;AAAA;AAAA;AAAA,SAC1BI,KAD0B,GAClB;AACNC,MAAAA,WAAW,EAAE,KADP;AAENC,MAAAA,EAAE,EAAE,IAFE;AAGNC,MAAAA,QAAQ,EAAE,EAHJ;AAINC,MAAAA,mBAAmB,EAAE,EAJf;AAKNC,MAAAA,WAAW,EAAE,EALP;AAMNC,MAAAA,IAAI,EAAE,EANA;AAONC,MAAAA,UAAU,EAAE;AAPN,KADkB;AAAA,SAU1BC,MAV0B,GAUjB,IAViB;;AAAA,SAW1BD,UAX0B,GAWbE,CAAC,IAAI;AAChB,WAAKC,QAAL,CACE;AACEH,QAAAA,UAAU,EAAE;AADd,OADF,EAIE,MAAMI,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,EAAmC,KAAKC,SAAxC,CAJR;AAMD,KAlByB;;AAAA,SAoB1BA,SApB0B,GAoBdJ,CAAC,IAAI;AACfK,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,WAAjB;;AACA,UAAI,KAAKA,WAAL,KAAqB,IAArB,IAA6B,CAAC,KAAKA,WAAL,CAAiBC,QAAjB,CAA0BR,CAAC,CAACS,MAA5B,CAAlC,EAAuE;AACrE,aAAKR,QAAL,CACE;AACEH,UAAAA,UAAU,EAAE;AADd,SADF,EAIE,MAAMI,QAAQ,CAACQ,mBAAT,CAA6B,OAA7B,EAAsC,KAAKN,SAA3C,CAJR;AAMD;AACF,KA9ByB;;AAAA,SA+B1BO,YA/B0B,GA+BXX,CAAC,IAAI;AAClB,WAAKC,QAAL,CAAc;AAAEL,QAAAA,WAAW,EAAEI,CAAC,CAACS,MAAF,CAASG;AAAxB,OAAd;AACD,KAjCyB;;AAAA,SA6E1BC,QA7E0B,GA6Efb,CAAC,IAAI;AACd,UAAIc,GAAG,GAAGd,CAAC,CAACe,OAAF,CAAUC,KAAV,CAAgB,GAAhB,CAAV;AACA,UAAIC,UAAU,GAAG,EAAjB;AACAH,MAAAA,GAAG,CAACI,OAAJ,CAAYC,EAAE,IAAIF,UAAU,CAACG,IAAX,CAAgB,OAAOD,EAAvB,CAAlB;AACA,UAAIE,KAAK,GAAGC,MAAM,CAACC,aAAP,CAAqB,GAAGN,UAAxB,CAAZ;AACA,WAAKhB,QAAL,CAAc;AACZL,QAAAA,WAAW,EAAE,KAAKL,KAAL,CAAWK,WAAX,GAAyByB;AAD1B,OAAd;AAGD,KArFyB;AAAA;;AAkC1BG,EAAAA,kBAAkB,GAAG;AACnB,SAAKzB,MAAL,GAAcX,EAAE,CAAC,mCAAD,CAAhB;AAEA,SAAKW,MAAL,CAAY0B,EAAZ,CAAe,SAAf,EAA0B,MAAM;AAC9B,WAAKxB,QAAL,CAAc;AAAET,QAAAA,WAAW,EAAE;AAAf,OAAd;AACD,KAFD;AAIA,SAAKO,MAAL,CAAY0B,EAAZ,CAAe,YAAf,EAA6B,MAAM;AACjC,WAAKxB,QAAL,CAAc;AAAET,QAAAA,WAAW,EAAE;AAAf,OAAd;AACD,KAFD;AAGA,SAAKO,MAAL,CAAY0B,EAAZ,CAAe,QAAf,EAAyBC,MAAM,IAAI;AACjC,WAAKzB,QAAL,CAAc;AAAER,QAAAA,EAAE,EAAEiC,MAAM,CAACjC;AAAb,OAAd;AACD,KAFD;AAGA,SAAKM,MAAL,CAAY0B,EAAZ,CAAe,OAAf,EAAwBE,IAAI,IAAI;AAC9B,WAAK1B,QAAL,CAAc;AAAEP,QAAAA,QAAQ,EAAEiC;AAAZ,OAAd;AACD,KAFD;AAGA,SAAK5B,MAAL,CAAY0B,EAAZ,CAAe,gBAAf,EAAiCG,OAAO,IAAI;AAC1CvB,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BsB,OAA9B;AACA,YAAMC,KAAK,GAAG,CAAC,GAAG,KAAKtC,KAAL,CAAWG,QAAf,EAAyBkC,OAAzB,CAAd;AACA,WAAK3B,QAAL,CAAc;AAAEP,QAAAA,QAAQ,EAAEmC;AAAZ,OAAd;AACD,KAJD;AAKA,SAAK9B,MAAL,CAAY0B,EAAZ,CAAe,mBAAf,EAAoCK,cAAc,IAAI;AACpDzB,MAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCwB,cAAjC;AACA,YAAMC,aAAa,GAAG,KAAKxC,KAAL,CAAWG,QAAX,CAAoBsC,MAApB,CAA2B,UAASC,IAAT,EAAe;AAC9D,eAAOA,IAAI,KAAKH,cAAhB;AACD,OAFqB,CAAtB;AAGA,WAAK7B,QAAL,CAAc;AAAEP,QAAAA,QAAQ,EAAEqC;AAAZ,OAAd;AACD,KAND;AAQA;;AACA,SAAKhC,MAAL,CAAY0B,EAAZ,CAAe,MAAf,EAAuBS,YAAY,IAAI;AACrC,WAAKjC,QAAL,CAAc;AAAEJ,QAAAA,IAAI,EAAEqC;AAAR,OAAd;AACA7B,MAAAA,OAAO,CAACC,GAAR,CAAY4B,YAAZ;AACD,KAHD;AAID;;AAEDC,EAAAA,oBAAoB,GAAG;AACrB,SAAKpC,MAAL,CAAYqC,KAAZ;AACA,SAAKrC,MAAL,GAAc,IAAd;AACD;;AACDsC,EAAAA,YAAY,CAACC,KAAD,EAAQ;AAClBA,IAAAA,KAAK,CAACC,cAAN;AACD;;AAWDC,EAAAA,MAAM,GAAG;AACP,wBACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACW,KAAKjD,KAAL,CAAWC,WAAX,GAAyB,WAAzB,GAAuC,cADlD,CADF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAU,KAAKD,KAAL,CAAWE,EAArB,CAJF,eAME;AAAK,MAAA,KAAK,EAAE;AAAEgD,QAAAA,OAAO,EAAE,MAAX;AAAmBC,QAAAA,cAAc,EAAE;AAAnC,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,KAAK,EAAE;AACLD,QAAAA,OAAO,EAAE,MADJ;AAELE,QAAAA,UAAU,EAAE;AAFP,OADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAME;AACE,MAAA,KAAK,EAAE;AACLC,QAAAA,MAAM,EAAE,OADH;AAELC,QAAAA,eAAe,EAAE,SAFZ;AAGLC,QAAAA,YAAY,EAAE,MAHT;AAILC,QAAAA,YAAY,EAAE,MAJT;AAKLC,QAAAA,KAAK,EAAE,OALF;AAMLC,QAAAA,WAAW,EAAE;AANR,OADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAUE;AAAO,MAAA,KAAK,EAAE;AAAEC,QAAAA,KAAK,EAAE;AAAT,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAK3D,KAAL,CAAWM,IAAX,CAAgBsD,GAAhB,CAAoBC,IAAI,iBACvB;AAAO,MAAA,SAAS,EAAC,eAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,KAAK,EAAE;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAqCD,IAAI,CAACE,IAA1C,CADF,eAGE;AACE,MAAA,KAAK,EAAE;AACLV,QAAAA,MAAM,EAAE,WADH;AAELC,QAAAA,eAAe,EAAE,OAFZ;AAGLC,QAAAA,YAAY,EAAE;AAHT,OADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAOGM,IAAI,CAACG,IAPR,CAHF,CADD,CADH,CADF,CAVF,CANF,CADF,eA2DE;AACE,MAAA,KAAK,EAAE;AACLX,QAAAA,MAAM,EAAE,OADH;AAELC,QAAAA,eAAe,EAAE,MAFZ;AAGLC,QAAAA,YAAY,EAAE,MAHT;AAILL,QAAAA,OAAO,EAAE,OAJJ;AAKLe,QAAAA,MAAM,EAAE,OALH;AAMLC,QAAAA,SAAS,EAAE;AANN,OADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKlE,KAAL,CAAWG,QAAX,CAAoByD,GAApB,CAAwBC,IAAI,iBAC3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKA,IAAL,CADD,CADH,CAXF,iBAgBc,KAAK7D,KAAL,CAAWG,QAAX,CAAoBgE,MAhBlC,CA3DF,CANF,eAqFE;AAAM,MAAA,QAAQ,EAAE,KAAKrB,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAEE;AACE,MAAA,KAAK,EAAE,KAAK9C,KAAL,CAAWK,WADpB;AAEE,MAAA,QAAQ,EAAE,KAAKe,YAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,eAME;AACE,MAAA,OAAO,EAAE,MAAM;AACb,aAAKZ,MAAL,CAAY4D,IAAZ,CAAiB,SAAjB,EAA4B;AAC1BlE,UAAAA,EAAE,EAAE,KAAKF,KAAL,CAAWE,EADW;AAE1B6D,UAAAA,IAAI,EAAE,MAFoB;AAG1BC,UAAAA,IAAI,EAAE,KAAKhE,KAAL,CAAWK;AAHS,SAA5B;AAMA,aAAKK,QAAL,CAAc;AAAEL,UAAAA,WAAW,EAAE;AAAf,SAAd;AACD,OATH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cANF,CArFF,EAyGG,KAAKL,KAAL,CAAWO,UAAX,gBACC;AAAM,MAAA,GAAG,EAAEqB,EAAE,IAAK,KAAKZ,WAAL,GAAmBY,EAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AACE,MAAA,QAAQ,EAAE,KAAKN,QADjB;AAEE,MAAA,YAAY,EAAE,IAFhB;AAGE,MAAA,KAAK,EAAC,QAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADD,gBASC;AAAG,MAAA,OAAO,EAAE,KAAKf,UAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA8BwB,MAAM,CAACC,aAAP,CAAqB,OAArB,CAA9B,CAlHJ,CADF;AAuHD;;AA/MyB;;AAkN5B,eAAejC,GAAf","sourcesContent":["import React, { Component } from \"react\";\nimport io from \"socket.io-client\";\nimport \"emoji-mart/css/emoji-mart.css\";\nimport { Picker } from \"emoji-mart\";\n\nclass App extends Component {\n  state = {\n    isConnected: false,\n    id: null,\n    userList: [],\n    message_from_server: \"\",\n    inputResult: \"\",\n    chat: [],\n    showEmojis: false\n  };\n  socket = null;\n  showEmojis = e => {\n    this.setState(\n      {\n        showEmojis: true\n      },\n      () => document.addEventListener(\"click\", this.closeMenu)\n    );\n  };\n\n  closeMenu = e => {\n    console.log(this.emojiPicker);\n    if (this.emojiPicker !== null && !this.emojiPicker.contains(e.target)) {\n      this.setState(\n        {\n          showEmojis: false\n        },\n        () => document.removeEventListener(\"click\", this.closeMenu)\n      );\n    }\n  };\n  handleChange = e => {\n    this.setState({ inputResult: e.target.value });\n  };\n  componentWillMount() {\n    this.socket = io(\"https://codi-server.herokuapp.com\");\n\n    this.socket.on(\"connect\", () => {\n      this.setState({ isConnected: true });\n    });\n\n    this.socket.on(\"disconnect\", () => {\n      this.setState({ isConnected: false });\n    });\n    this.socket.on(\"youare\", answer => {\n      this.setState({ id: answer.id });\n    });\n    this.socket.on(\"peeps\", data => {\n      this.setState({ userList: data });\n    });\n    this.socket.on(\"new connection\", NewUser => {\n      console.log(\"new connection\", NewUser);\n      const users = [...this.state.userList, NewUser];\n      this.setState({ userList: users });\n    });\n    this.socket.on(\"new disconnection\", DisconnectUser => {\n      console.log(\"new disconnection\", DisconnectUser);\n      const filteredUsers = this.state.userList.filter(function(item) {\n        return item !== DisconnectUser;\n      });\n      this.setState({ userList: filteredUsers });\n    });\n\n    /** this will be useful way, way later **/\n    this.socket.on(\"room\", old_messages => {\n      this.setState({ chat: old_messages });\n      console.log(old_messages);\n    });\n  }\n\n  componentWillUnmount() {\n    this.socket.close();\n    this.socket = null;\n  }\n  handleSubmit(event) {\n    event.preventDefault();\n  }\n  addEmoji = e => {\n    let sym = e.unified.split(\"-\");\n    let codesArray = [];\n    sym.forEach(el => codesArray.push(\"0x\" + el));\n    let emoji = String.fromCodePoint(...codesArray);\n    this.setState({\n      inputResult: this.state.inputResult + emoji\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <div>\n          status: {this.state.isConnected ? \"connected\" : \"disconnected\"}\n        </div>\n        <div>id: {this.state.id}</div>\n        {/* <button onClick={() => this.socket.emit(\"whoami\")}>Who am I?</button> */}\n        <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n          <div\n            style={{\n              display: \"flex\",\n              marginLeft: \"70px\"\n            }}\n          >\n            <div\n              style={{\n                border: \"solid\",\n                backgroundColor: \"#54798a\",\n                borderRadius: \"20px\",\n                paddingRight: \"25px\",\n                color: \"white\",\n                marginRight: \"10px\"\n              }}\n            >\n              <table style={{ width: \"60%\" }}>\n                <tr>\n                  {this.state.chat.map(user => (\n                    <tbody className=\" table-active\">\n                      <td style={{ padding: \"0px 15px\" }}>{user.name}</td>\n\n                      <td\n                        style={{\n                          border: \"solid 0px\",\n                          backgroundColor: \"green\",\n                          borderRadius: \"10px\"\n                        }}\n                      >\n                        {user.text}\n                      </td>\n                    </tbody>\n                  ))}\n                </tr>\n              </table>\n            </div>\n            {/* <div\n              style={{\n                border: \"solid\",\n                backgroundColor: \"#54798a\",\n                borderRadius: \"20px\"\n              }}\n            >\n              <ul>\n                {this.state.chat.map(user => (\n                  <li\n                    style={{\n                      border: \"solid\",\n                      backgroundColor: \"red\",\n                      borderRadius: \"20px\"\n                    }}\n                  >\n                    {user.text}\n                  </li>\n                ))}\n              </ul>\n            </div> */}\n          </div>\n          <div\n            style={{\n              border: \"solid\",\n              backgroundColor: \"cyan\",\n              borderRadius: \"20px\",\n              display: \"block\",\n              height: \"400px\",\n              overflowY: \"scroll\"\n            }}\n          >\n            userList:\n            <ul>\n              {this.state.userList.map(user => (\n                <li>{user}</li>\n              ))}\n            </ul>\n            userNumber:{this.state.userList.length}\n          </div>\n        </div>\n\n        <form onSubmit={this.handleSubmit}>\n          message to server :\n          <input\n            value={this.state.inputResult}\n            onChange={this.handleChange}\n          ></input>\n          <button\n            onClick={() => {\n              this.socket.emit(\"message\", {\n                id: this.state.id,\n                name: \"test\",\n                text: this.state.inputResult\n              });\n\n              this.setState({ inputResult: \"\" });\n            }}\n          >\n            send\n          </button>\n        </form>\n        {this.state.showEmojis ? (\n          <span ref={el => (this.emojiPicker = el)}>\n            <Picker\n              onSelect={this.addEmoji}\n              emojiTooltip={true}\n              title=\"weChat\"\n            />\n          </span>\n        ) : (\n          <p onClick={this.showEmojis}>{String.fromCodePoint(0x1f60a)}</p>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}